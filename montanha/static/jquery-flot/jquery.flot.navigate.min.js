// First two dependencies, jquery.event.drag.js and
// jquery.mousewheel.js, we put them inline here to save people the
// effort of downloading them.
/* Copyright (c) 2009 Brandon Aaron (http://brandonaaron.net)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 *
 * Version: 3.0.2
 * 
 * Requires: 1.2.2+
 */(function(e){function n(t){var n=[].slice.call(arguments,1),r=0,i=!0;return t=e.event.fix(t||window.event),t.type="mousewheel",t.wheelDelta&&(r=t.wheelDelta/120),t.detail&&(r=-t.detail/3),n.unshift(t,r),e.event.handle.apply(this,n)}var t=["DOMMouseScroll","mousewheel"];e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})(jQuery),function(e){function i(u){var l=this,p,d=u.data||{};if(d.elem)l=u.dragTarget=d.elem,u.dragProxy=r.proxy||l,u.cursorOffsetX=d.pageX-d.left,u.cursorOffsetY=d.pageY-d.top,u.offsetX=u.pageX-u.cursorOffsetX,u.offsetY=u.pageY-u.cursorOffsetY;else if(r.dragging||d.which>0&&u.which!=d.which||e(u.target).is(d.not))return;switch(u.type){case"mousedown":return e.extend(d,e(l).offset(),{elem:l,target:u.target,pageX:u.pageX,pageY:u.pageY}),t.add(document,"mousemove mouseup",i,d),a(l,!1),r.dragging=null,!1;case!r.dragging&&"mousemove":if(o(u.pageX-d.pageX)+o(u.pageY-d.pageY)<d.distance)break;u.target=d.target,p=s(u,"dragstart",l),p!==!1&&(r.dragging=l,r.proxy=u.dragProxy=e(p||l)[0]);case"mousemove":if(r.dragging){p=s(u,"drag",l),n.drop&&(n.drop.allowed=p!==!1,n.drop.handler(u));if(p!==!1)break;u.type="mouseup"};case"mouseup":t.remove(document,"mousemove mouseup",i),r.dragging&&(n.drop&&n.drop.handler(u),s(u,"dragend",l)),a(l,!0),r.dragging=r.proxy=d.elem=!1}return!0}function s(t,n,r){t.type=n;var i=e.event.handle.call(r,t);return i===!1?!1:i||t.result}function o(e){return Math.pow(e,2)}function u(){return r.dragging===!1}function a(e,t){if(!e)return;e.unselectable=t?"off":"on",e.onselectstart=function(){return t},e.style&&(e.style.MozUserSelect=t?"":"none")}e.fn.drag=function(e,t,n){return t&&this.bind("dragstart",e),n&&this.bind("dragend",n),e?this.bind("drag",t?t:e):this.trigger("drag")};var t=e.event,n=t.special,r=n.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(n){n=e.extend({distance:r.distance,which:r.which,not:r.not},n||{}),n.distance=o(n.distance),t.add(this,"mousedown",i,n),this.attachEvent&&this.attachEvent("ondragstart",u)},teardown:function(){t.remove(this,"mousedown",i),this===r.dragging&&(r.dragging=r.proxy=!1),a(this,!0),this.detachEvent&&this.detachEvent("ondragstart",u)}};n.dragstart=n.dragend={setup:function(){},teardown:function(){}}}(jQuery),function(e){function n(t){function n(e,n){var r=t.offset();r.left=e.pageX-r.left,r.top=e.pageY-r.top,n?t.zoomOut({center:r}):t.zoom({center:r})}function r(e,t){return e.preventDefault(),n(e,t<0),!1}function a(e){if(e.which!=1)return!1;var n=t.getPlaceholder().css("cursor");n&&(i=n),t.getPlaceholder().css("cursor",t.getOptions().pan.cursor),s=e.pageX,o=e.pageY}function f(e){var n=t.getOptions().pan.frameRate;if(u||!n)return;u=setTimeout(function(){t.pan({left:s-e.pageX,top:o-e.pageY}),s=e.pageX,o=e.pageY,u=null},1/n*1e3)}function l(e){u&&(clearTimeout(u),u=null),t.getPlaceholder().css("cursor",i),t.pan({left:s-e.pageX,top:o-e.pageY})}function c(e,t){var i=e.getOptions();i.zoom.interactive&&(t[i.zoom.trigger](n),t.mousewheel(r)),i.pan.interactive&&(t.bind("dragstart",{distance:10},a),t.bind("drag",f),t.bind("dragend",l))}function h(e,t){t.unbind(e.getOptions().zoom.trigger,n),t.unbind("mousewheel",r),t.unbind("dragstart",a),t.unbind("drag",f),t.unbind("dragend",l),u&&clearTimeout(u)}var i="default",s=0,o=0,u=null;t.zoomOut=function(e){e||(e={}),e.amount||(e.amount=t.getOptions().zoom.amount),e.amount=1/e.amount,t.zoom(e)},t.zoom=function(n){n||(n={});var r=n.center,i=n.amount||t.getOptions().zoom.amount,s=t.width(),o=t.height();r||(r={left:s/2,top:o/2});var u=r.left/s,a=r.top/o,f={x:{min:r.left-u*s/i,max:r.left+(1-u)*s/i},y:{min:r.top-a*o/i,max:r.top+(1-a)*o/i}};e.each(t.getAxes(),function(e,t){var n=t.options,r=f[t.direction].min,i=f[t.direction].max,s=n.zoomRange,o=n.panRange;if(s===!1)return;r=t.c2p(r),i=t.c2p(i);if(r>i){var u=r;r=i,i=u}o&&(o[0]!=null&&r<o[0]&&(r=o[0]),o[1]!=null&&i>o[1]&&(i=o[1]));var a=i-r;if(s&&(s[0]!=null&&a<s[0]||s[1]!=null&&a>s[1]))return;n.min=r,n.max=i}),t.setupGrid(),t.draw(),n.preventEvent||t.getPlaceholder().trigger("plotzoom",[t,n])},t.pan=function(n){var r={x:+n.left,y:+n.top};isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),e.each(t.getAxes(),function(e,t){var n=t.options,i,s,o=r[t.direction];i=t.c2p(t.p2c(t.min)+o),s=t.c2p(t.p2c(t.max)+o);var u=n.panRange;if(u===!1)return;u&&(u[0]!=null&&u[0]>i&&(o=u[0]-i,i+=o,s+=o),u[1]!=null&&u[1]<s&&(o=u[1]-s,i+=o,s+=o)),n.min=i,n.max=s}),t.setupGrid(),t.draw(),n.preventEvent||t.getPlaceholder().trigger("plotpan",[t,n])},t.hooks.bindEvents.push(c),t.hooks.shutdown.push(h)}var t={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}};e.plot.plugins.push({init:n,options:t,name:"navigate",version:"1.3"})}(jQuery);